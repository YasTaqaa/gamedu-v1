<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Game Edukasi: Susun Kata Bahasa Inggris Anak</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="dashboard">
  <!-- BGM -->
  <audio id="bgm" preload="auto">
    <source src="sounds/bgm/bgm_category.mp3" type="audio/mpeg">
  </audio>

  <!-- Halaman Awal -->
  <div class="dashboard-container">
    <h1 class="big-welcome">🎮 Game Edukasi: Susun Kata Bahasa Inggris Anak</h1>
    <p class="big-subtitle" id="subtitle1">🌟 Belajar bahasa Inggris dengan cara yang menyenangkan!</p>
    <p class="big-subtitle" id="subtitle2">🎯 Susun huruf menjadi kata yang benar</p>

    <!-- Tombol Mulai -->
    <div id="start-screen">
      <button class="start-game-button">▶️ Mulai Permainan</button>
      <p class="big-subtitle" id="subtitle3">🧩✨🎉</p>
    </div>

    <!-- Pilih Kategori -->
    <div id="category-selection" style="display: none;">
      <p class="big-subtitle">Pilih kategori permainan:</p>
      <div class="button-container">
        <button class="start-btn" data-href="animals.html">🐶 Nama Hewan</button>
        <button class="start-btn" data-href="fruits.html">🍎 Nama Buah</button>
        <button class="start-btn" data-href="vegetables.html">🥕 Nama Sayur</button>
        <button class="start-btn" data-href="greetings.html">👋 Kalimat Sapaan</button>
        <button class="start-btn" data-href="days.html">📅 Nama Hari</button>
      </div>
    </div>
  </div>

  <script>
    function initializeAudio() {
      const bgm = document.getElementById('bgm');
      if (!bgm) return;
      bgm.volume = 0.3;
      bgm.loop = true;

      const playAudio = () => {
        const playPromise = bgm.play();
        if (playPromise !== undefined) {
          playPromise.catch(() => {});
        }
      };

      playAudio();

      const startOnInteraction = () => {
        bgm.play().catch(() => {});
        document.removeEventListener('click', startOnInteraction);
      };

      document.addEventListener('click', startOnInteraction, { once: true, passive: true });
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initializeAudio);
    } else {
      initializeAudio();
    }

    document.addEventListener('DOMContentLoaded', function () {
      const startBtn = document.querySelector('.start-game-button');
      const startScreen = document.getElementById('start-screen');
      const categorySection = document.getElementById('category-selection');

      const subtitle1 = document.getElementById('subtitle1');
      const subtitle2 = document.getElementById('subtitle2');
      const subtitle3 = document.getElementById('subtitle3');

      startBtn.addEventListener('click', () => {
        startScreen.style.display = 'none';
        categorySection.style.display = 'block';

        subtitle1.style.display = 'none';
        subtitle2.style.display = 'none';
        subtitle3.style.display = 'none';
      });

      const kategoriButtons = document.querySelectorAll('.start-btn');
      kategoriButtons.forEach(button => {
        button.addEventListener('click', () => {
          const href = button.getAttribute('data-href');
          if (href) {
            window.location.href = href;
          }
        });
      });
    });
  </script>
</body>
</html>
